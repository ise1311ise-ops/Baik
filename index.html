<!doctype html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>–ë–∏—Ç–≤–∞ —Ä–∞–π–æ–Ω–æ–≤ ‚Ä¢ –ë–∞–π–∫–æ–Ω—É—Ä</title>
  <meta name="description" content="Telegram Mini App: –ë–∏—Ç–≤–∞ —Ä–∞–π–æ–Ω–æ–≤ –ë–∞–π–∫–æ–Ω—É—Ä–∞" />
  <link rel="icon" href="./assets/logo.svg" type="image/svg+xml">
  <link rel="preload" href="./assets/bg.svg" as="image">
  <link rel="stylesheet" href="./styles.css" />
</head>
<body>
  <!-- Telegram WebApp SDK -->
  <script src="https://telegram.org/js/telegram-web-app.js"></script>

  <div class="bg"></div>

  <header class="topbar">
    <div class="brand">
      <img class="brand__logo" src="./assets/logo.svg" alt="–ë–∏—Ç–≤–∞ —Ä–∞–π–æ–Ω–æ–≤" />
      <div class="brand__text">
        <div class="brand__title">–ë–∏—Ç–≤–∞ —Ä–∞–π–æ–Ω–æ–≤</div>
        <div class="brand__subtitle">–ë–∞–π–∫–æ–Ω—É—Ä ‚Ä¢ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–π —Å–µ–∑–æ–Ω</div>
      </div>
    </div>
    <button class="iconBtn" id="btnSettings" aria-label="–ù–∞—Å—Ç—Ä–æ–π–∫–∏">‚öôÔ∏è</button>
  </header>

  <main class="wrap" id="app">
    <section class="card" id="screenOnboarding" hidden>
      <h1>–í—ã–±–µ—Ä–∏ —Ä–∞–π–æ–Ω</h1>
      <p class="muted">–°—Ç–∞–Ω—å –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª–µ–º —Ä–∞–π–æ–Ω–∞ –∏ –Ω–∞–±–∏—Ä–∞–π –æ—á–∫–∏ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å. –≠—Ç–æ MVP –±–µ–∑ —Å–µ—Ä–≤–µ—Ä–∞: –ø—Ä–æ–≥—Ä–µ—Å—Å —Ö—Ä–∞–Ω–∏—Ç—Å—è —É —Ç–µ–±—è.</p>
      <div class="grid" id="districtGrid"></div>
      <button class="primary" id="btnStart" disabled>–ù–∞—á–∞—Ç—å</button>
      <div class="tiny muted">–ü–æ–¥—Å–∫–∞–∑–∫–∞: –ø–æ–∑–∂–µ –º–æ–∂–Ω–æ —Å–º–µ–Ω–∏—Ç—å —Ä–∞–π–æ–Ω –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö (—Å –æ–±–Ω—É–ª–µ–Ω–∏–µ–º –ª–∏—á–Ω–æ–≥–æ –≤–∫–ª–∞–¥–∞).</div>
    </section>

    <section class="card" id="screenHome" hidden>
      <div class="row">
        <div>
          <div class="muted">–¢–≤–æ–π —Ä–∞–π–æ–Ω</div>
          <div class="big" id="myDistrictName">‚Äî</div>
        </div>
        <div class="stat">
          <div class="muted">–õ–∏—á–Ω—ã–π –≤–∫–ª–∞–¥</div>
          <div class="big" id="myScore">0</div>
        </div>
      </div>

      <div class="hr"></div>

      <div class="row">
        <div class="stat">
          <div class="muted">–°–µ—Ä–∏—è –¥–Ω–µ–π</div>
          <div class="big" id="streak">0</div>
        </div>
        <div class="stat">
          <div class="muted">–≠–Ω–µ—Ä–≥–∏—è</div>
          <div class="big" id="energy">0</div>
        </div>
        <div class="stat">
          <div class="muted">–°–µ–≥–æ–¥–Ω—è</div>
          <div class="big" id="todayPoints">0</div>
        </div>
      </div>

      <div class="hr"></div>

      <h2>–ó–∞–¥–∞–Ω–∏—è</h2>
      <div class="list">
        <button class="tile" id="btnPatrol">
          <div class="tile__icon">üéØ</div>
          <div class="tile__body">
            <div class="tile__title">–ü–∞—Ç—Ä—É–ª—å —Ä–∞–π–æ–Ω–∞</div>
            <div class="tile__desc">30 —Å–µ–∫—É–Ω–¥: –Ω–∞–∂–∏–º–∞–π –Ω–∞ —Ü–µ–ª–∏. –ß–µ–º —Ç–æ—á–Ω–µ–µ ‚Äî —Ç–µ–º –±–æ–ª—å—à–µ –æ—á–∫–æ–≤.</div>
          </div>
          <div class="tile__meta">+–¥–æ 120</div>
        </button>

        <button class="tile" id="btnQuiz">
          <div class="tile__icon">üöÄ</div>
          <div class="tile__body">
            <div class="tile__title">–ö–æ—Å–º–æ-–≤–∏–∫—Ç–æ—Ä–∏–Ω–∞</div>
            <div class="tile__desc">5 –≤–æ–ø—Ä–æ—Å–æ–≤ –ø—Ä–æ –∫–æ—Å–º–æ—Å –∏ –ë–∞–π–∫–æ–Ω—É—Ä. –ó–∞ —Å–µ—Ä–∏—é ‚Äî –±–æ–Ω—É—Å.</div>
          </div>
          <div class="tile__meta">+–¥–æ 150</div>
        </button>

        <button class="tile" id="btnCheckin">
          <div class="tile__icon">üìç</div>
          <div class="tile__body">
            <div class="tile__title">–ß–µ–∫‚Äë–∏–Ω –≤ –≥–æ—Ä–æ–¥–µ</div>
            <div class="tile__desc">–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: –¥–∞–π –≥–µ–æ–ª–æ–∫–∞—Ü–∏—é. –ï—Å–ª–∏ —Ç—ã —Ä—è–¥–æ–º —Å –ë–∞–π–∫–æ–Ω—É—Ä–æ–º ‚Äî –ø–æ–ª—É—á–∏—à—å –±–æ–Ω—É—Å.</div>
          </div>
          <div class="tile__meta">+80</div>
        </button>
      </div>

      <div class="hr"></div>

      <div class="row">
        <button class="secondary" id="btnSeason">–°–µ–∑–æ–Ω</button>
        <button class="secondary" id="btnShare">–ü–æ–¥–µ–ª–∏—Ç—å—Å—è</button>
      </div>
      <div class="tiny muted">¬´–°–µ–∑–æ–Ω¬ª —Å–µ–π—á–∞—Å —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –∫—Ä–∞—Å–∏–≤—ã–π –¥–µ–º–æ-—ç–∫—Ä–∞–Ω –±–µ–∑ –æ–±—â–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞. –ú–æ–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å —Å–µ—Ä–≤–µ—Ä –ø–æ–∑–∂–µ.</div>
    </section>

    <section class="card" id="screenPatrol" hidden>
      <div class="row">
        <div>
          <div class="muted">–†–µ–∂–∏–º</div>
          <div class="big">–ü–∞—Ç—Ä—É–ª—å</div>
        </div>
        <div class="stat">
          <div class="muted">–í—Ä–µ–º—è</div>
          <div class="big" id="patrolTime">30</div>
        </div>
      </div>

      <div class="arena" id="arena">
        <div class="arena__hud">
          <div class="chip">–û—á–∫–∏: <span id="patrolScore">0</span></div>
          <div class="chip">–ö–æ–º–±–æ: <span id="patrolCombo">x1</span></div>
        </div>
        <!-- targets are injected here -->
      </div>

      <div class="row">
        <button class="secondary" id="btnPatrolExit">–ù–∞–∑–∞–¥</button>
        <button class="primary" id="btnPatrolStart">–°—Ç–∞—Ä—Ç</button>
      </div>
      <div class="tiny muted">–°–æ–≤–µ—Ç: –ø–æ–ø–∞–¥–∞–π –±—ã—Å—Ç—Ä–æ –ø–æ–¥—Ä—è–¥ ‚Äî –∫–æ–º–±–æ —Ä–∞—Å—Ç—ë—Ç.</div>
    </section>

    <section class="card" id="screenQuiz" hidden>
      <div class="row">
        <div>
          <div class="muted">–†–µ–∂–∏–º</div>
          <div class="big">–ö–æ—Å–º–æ‚Äë–≤–∏–∫—Ç–æ—Ä–∏–Ω–∞</div>
        </div>
        <div class="stat">
          <div class="muted">–í–æ–ø—Ä–æ—Å</div>
          <div class="big"><span id="quizStep">1</span>/5</div>
        </div>
      </div>
      <div class="quizQ" id="quizQ">‚Äî</div>
      <div class="grid2" id="quizAnswers"></div>
      <div class="row">
        <button class="secondary" id="btnQuizExit">–ù–∞–∑–∞–¥</button>
        <button class="secondary" id="btnQuizNext" disabled>–î–∞–ª—å—à–µ</button>
      </div>
      <div class="tiny muted" id="quizHint">–í—ã–±–µ—Ä–∏ –≤–∞—Ä–∏–∞–Ω—Ç –æ—Ç–≤–µ—Ç–∞.</div>
    </section>

    <section class="card" id="screenSeason" hidden>
      <div class="row">
        <div>
          <div class="muted">–°–µ–∑–æ–Ω</div>
          <div class="big">–¢–∞–±–ª–∏—Ü–∞ —Ä–∞–π–æ–Ω–æ–≤</div>
        </div>
        <div class="stat">
          <div class="muted">–î–µ–Ω—å —Å–µ–∑–æ–Ω–∞</div>
          <div class="big" id="seasonDay">‚Äî</div>
        </div>
      </div>
      <p class="muted">–≠—Ç–æ –¥–µ–º–æ‚Äë—Ç–∞–±–ª–∏—Ü–∞ –±–µ–∑ –æ–±—â–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞: –æ–Ω–∞ —Å–∫–ª–∞–¥—ã–≤–∞–µ—Ç —Ç–≤–æ–π –≤–∫–ª–∞–¥ + ¬´–∏–º–ø—É–ª—å—Å —Å–µ–∑–æ–Ω–∞¬ª, —á—Ç–æ–±—ã –±—ã–ª–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ.</p>
      <div class="table" id="seasonTable"></div>
      <div class="row">
        <button class="secondary" id="btnSeasonBack">–ù–∞–∑–∞–¥</button>
        <button class="primary" id="btnSeasonBoost">–°—É–ø–µ—Ä‚Äë–≤–∫–ª–∞–¥</button>
      </div>
      <div class="tiny muted">–°—É–ø–µ—Ä‚Äë–≤–∫–ª–∞–¥ —Ç—Ä–∞—Ç–∏—Ç —ç–Ω–µ—Ä–≥–∏—é –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –æ—á–∫–∏ —Å–µ–≥–æ–¥–Ω—è.</div>
    </section>

    <section class="card" id="screenSettings" hidden>
      <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>

      <div class="setting">
        <div>
          <div class="muted">–†–∞–π–æ–Ω</div>
          <div class="big" id="settingsDistrict">‚Äî</div>
        </div>
        <button class="secondary" id="btnChangeDistrict">–°–º–µ–Ω–∏—Ç—å</button>
      </div>

      <div class="setting">
        <div>
          <div class="muted">–°–±—Ä–æ—Å–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å</div>
          <div class="tiny muted">–£–¥–∞–ª–∏—Ç –ª–æ–∫–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–æ—á–∫–∏/—Å–µ—Ä–∏—è/—ç–Ω–µ—Ä–≥–∏—è).</div>
        </div>
        <button class="danger" id="btnReset">–°–±—Ä–æ—Å</button>
      </div>

      <div class="setting">
        <div>
          <div class="muted">–†–µ–∂–∏–º Telegram</div>
          <div class="tiny muted" id="tgStatus">‚Äî</div>
        </div>
        <button class="secondary" id="btnTheme">–ü–æ–¥—Å—Ç—Ä–æ–∏—Ç—å —Ç–µ–º—É</button>
      </div>

      <div class="row">
        <button class="secondary" id="btnSettingsBack">–ù–∞–∑–∞–¥</button>
      </div>

      <div class="tiny muted">
        MVP: –±–µ–∑ —Å–µ—Ä–≤–µ—Ä–∞. –î–ª—è –Ω–∞—Å—Ç–æ—è—â–µ–≥–æ –æ–±—â–µ–≥–æ —Ä–µ–π—Ç–∏–Ω–≥–∞ —Å–º. –ø–∞–ø–∫—É <code>server/</code> –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏.
      </div>
    </section>

    <div class="toast" id="toast" hidden></div>
  </main>

  <script src="./telegram.js"></script>
  <script src="./app.js"></script>
</body>
</html>
